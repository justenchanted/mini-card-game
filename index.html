<!DOCTYPE html>
<html>
<head>
    <title>Mini Card Game</title>
</head>
<body>
<canvas id="gameCanvas" width="800" height="600" style="border:1px solid black;"></canvas>

<script>
// ========== SETUP ==========
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

// List of card images (your existing filenames)
let cards = [
    'https://github.com/justenchanted/mini-card-game/blob/main/Unbenanntes_Projekt%202.png?raw=true',
    'https://github.com/justenchanted/mini-card-game/blob/main/Unbenanntes_Projekt.png?raw=true'
];

let currentCard = 0;
let flipProgress = 1;  // 1 = full width, 0 = invisible
let flipping = false;
let nextCard = 0;

// Load first card
const img = new Image();
img.src = cards[currentCard];
img.onload = drawCard;

// ========== DRAW CARD FUNCTION ==========
function drawCard() {
    ctx.clearRect(0, 0, canvas.width, canvas.height); // clear canvas

    // Optional: background
    ctx.fillStyle = 'lightblue';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    ctx.save();
    ctx.translate(400, 275); // move to card center
    ctx.scale(flipProgress, 1); // shrink/expand width
    ctx.drawImage(img, -100, -75, 200, 150); // draw card centered
    ctx.restore();
}

// ========== CLICK HANDLER ==========
canvas.addEventListener('click', () => {
    if (!flipping) {
        flipping = true;
        nextCard = (currentCard + 1) % cards.length;
        requestAnimationFrame(animateFlip);
    }
});

// ========== ANIMATION FUNCTIONS ==========
function animateFlip() {
    if (flipProgress > 0) {
        flipProgress -= 0.1; // shrink
        drawCard();
        requestAnimationFrame(animateFlip);
    } else {
        currentCard = nextCard; // swap image
        img.src = cards[currentCard];
        requestAnimationFrame(animateFlipBack);
    }
}

function animateFlipBack() {
    if (flipProgress < 1) {
        flipProgress += 0.1; // grow
        drawCard();
        requestAnimationFrame(animateFlipBack);
    } else {
        flipping = false; // animation finished
    }
}
</script>
</body>
</html>
